import {
    LibraryData,
    LibraryListData,
    NotificationData,
    NotificationType,
    PanelPage,
    TabData,
    TabType,
    TreeViewItemData,
    WindowSectionData
} from "types.slint";

export global Data {
    // Preview mode: True for preview, set to false by the backend
    in property <bool> preview-mode: true;

    // Window title
    in property <string> window-title: "LibrePCB 1.2.0-unstable";

    // Detailed app version information etc.
    in property <string> about-librepcb-details: "LibrePCB Version: 1.2.0\nGit Revision:     f079fa97b\nBuild Date:       2024-12-02T19:12:08\nQt Version:       6.2.4 (built against 6.2.4)\nCPU Architecture: x86_64\nOperating System: Ubuntu Core 22\nPlatform Plugin:  xcb\nTLS Library:      OpenSSL 3.0.2 15 Mar 2022\nOCC Library:      OCCT 7.7.2\nRuntime:          Snap";

    // Current side panel page
    in property <PanelPage> panel-page: PanelPage.home;

    // Window sections
    in property <[WindowSectionData]> sections: [
        {
            tabs: [
                {
                    type: TabType.home,
                },
                {
                    type: TabType.create-library,
                    title: "New Lib",
                },
                {
                    type: TabType.download-library,
                    title: "Download Lib",
                },
            ],
            create-library-tabs: [
                { },
                {
                    name: "My Library",
                    name-error: "Name error",
                    description: "",
                    author: "",
                    author-default: "Me",
                    version: "",
                    version-default: "0.1",
                    version-error: "Version error",
                    url: "",
                    url-error: "URL error",
                    cc0: false,
                    directory: "",
                    directory-default: "My_Library.lplib",
                    directory-error: "Directory error",
                    valid: true,
                    creation-error: "Creation error",
                },
            ],
            download-library-tabs: [
                { },
                { },
                {
                    url: "",
                    url-error: "URL error",
                    url-suggestion: "https://example.com/library.zip",
                    directory: "",
                    directory-default: "My_Library.lplib",
                    directory-error: "Directory error",
                    valid: true,
                    download-running: true,
                    download-progress: 42,
                    download-status: "Download status",
                },
            ],
            current-tab-index: 1,
        },
        {
            tabs: [],
            current-tab-index: 0,
        },
    ];

    // Which section currently has focus
    in property <int> current-section-index: 0;

    // Static status bar message
    in property <string> status-bar-message;

    // Temporary status tip when hovering interactive UI elements
    in property <string> status-tip;

    // Workspace: Folder path
    in property <string> workspace-path: "/path/to/workspace";

    // Workspace: Folder tree
    in property <[TreeViewItemData]> workspace-folder-tree: [
        {
            icon: @image-url("../../../../../img/places/project_folder.png"),
            text: "folder-1",
            user-data: "folder-1",
            has-children: true,
            expanded: false,
        },
        {
            icon: @image-url("../../../../../img/places/project_folder.png"),
            text: "folder-2",
            user-data: "folder-2",
            is-project-file-or-folder: true,
            has-children: true,
            expanded: true,
        },
        {
            level: 1,
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            text: "project-1.lpp",
            user-data: "project-1.lpp",
            is-project-file-or-folder: true,
            supports-pinning: true,
            pinned: true,
        },
        {
            level: 1,
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            text: "project-2.lpp",
            user-data: "project-2.lpp",
            is-project-file-or-folder: true,
            supports-pinning: true,
            pinned: false,
        },
    ];

    // Quick access items
    in property <[TreeViewItemData]> quick-access-items: [
        {
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            text: "project-1.lpp",
            hint: "foo/bar/project-1.lpp",
            user-data: "foo/bar/project-1.lpp",
            supports-pinning: true,
            pinned: false,
        },
        {
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            text: "project-2.lpp",
            hint: "fooooooooooo/baaaaaaaaaaaaaaaaaaaaaaaar/project-2.lpp",
            user-data: "fooooooooooo/baaaaaaaaaaaaaaaaaaaaaaaar/project-2.lpp",
            supports-pinning: true,
            pinned: false,
        },
        {
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            text: "project-3.lpp",
            hint: "foo/bar/project-3.lpp",
            user-data: "foo/bar/project-3.lpp",
            supports-pinning: true,
            pinned: true,
        },
    ];

    // Project preview: Project file path
    in property <string> project-preview-path;

    // Project preview: Rendering in progress
    in property <bool> project-preview-rendering: false;

    // Project preview: Preview image result
    in property <image> project-preview-image;

    // Notifications: Data model
    in property <[NotificationData]> notifications: [
        {
            type: NotificationType.tip,
            title: "Tip",
            description: "This is a tip notification",
            button-text: "Do Something",
            supports-dont-show-again: true,
            unread: true,
        },
        {
            type: NotificationType.info,
            title: "Info",
            description: "This is an info notification",
            unread: true,
        },
        {
            type: NotificationType.warning,
            title: "Warning",
            description: "This is a warning notification",
        },
        {
            type: NotificationType.critical,
            title: "Critical",
            description: "This is a critical notification",
        },
        {
            type: NotificationType.progress,
            title: "Progress",
            description: "This is a progress notification",
            progress: 50,
        },
    ];

    // Notifications: Unread messages count
    in property <int> notifications-unread: 2;

    // Notifications: Index of current progress notification (-1 if none)
    in property <int> notifications-progress-index: 4;

    // Notifications: Popup shown status
    in property <bool> notifications-shown: true;

    // Locally installed libraries (may be filtered)
    in property <[LibraryData]> local-libraries: [
        {
            path: "/foo/bar",
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "My Library",
            installed-version: "1.0",
            highlight: true,
        },
        {
            path: "/foo/bar",
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "LibrePCB Base",
            description: "Official LibrePCB Base Library.",
            installed-version: "1.0",
            online-version: "1.1",
            outdated: true,
        },
        {
            path: "/foo/bar",
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "LibrePCB Base",
            description: "Official LibrePCB Base Library.",
            installed-version: "1.1",
            online-version: "1.1",
        },
    ];

    // Metadata about local-libraries
    in property <LibraryListData> local-libraries-data: {
        refreshing-error: "Local error!",
        count: 3,
    };

    // Remote libraries, either installed or not (may be filtered)
    in property <[LibraryData]> remote-libraries: [
        {
            uuid: "x",
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "Microchip Technology / Atmel",
            description: "Integrated circuits and more (unofficial).",
            installed-version: "0.5",
            online-version: "0.7",
            outdated: true,
            checked: true,
        },
        {
            uuid: "x",
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "LibrePCB Base",
            description: "Official LibrePCB Base Library.",
            installed-version: "1.2.3",
            online-version: "1.2.3",
            checked: false,
        },
        {
            uuid: "x",
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "LibrePCB Connectors",
            description: "Official LibrePCB Connectors Library.",
            installed-version: "1.2.3",
            online-version: "1.2.3",
            checked: true,
        },
        {
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "LibrePCB Connectors",
            description: "Official LibrePCB Connectors Library.",
            installed-version: "1.2.3",
            online-version: "1.2.3",
        },
        {
            uuid: "x",
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "LibrePCB Integrated Circuits",
            description: "Official LibrePCB Integrated Circuits Library",
            online-version: "0.7",
            checked: true,
        },
        {
            uuid: "x",
            icon: @image-url("../../../../../img/app/librepcb.svg"),
            name: "Microchip Technology / Atmel",
            description: "Integrated circuits and more (unofficial).",
            online-version: "0.8",
            recommended: true,
            progress: 42,
        },
    ];

    // Metadata about remote-libraries
    in property <LibraryListData> remote-libraries-data: {
        refreshing-error: "Some error occurred.\nFoo bar...",
        count: 5,
        installed: 3,
        outdated: 2,
        pending-installs: 1,
        pending-updates: 2,
        pending-uninstalls: 3,
        pending-oneway-uninstalls: 1,
        operation-in-progress: false,
    };

    // CALCULATED, DO NET SET IN BACKEND
    in property <int> remote-libraries-pending-operations: remote-libraries-data.pending-installs + remote-libraries-data.pending-updates + remote-libraries-data.pending-uninstalls;
    in property <bool> libraries-operation-in-progress: local-libraries-data.operation-in-progress || remote-libraries-data.operation-in-progress;

    // Filter applied to both local libraries and remote libraries
    in property <string> libraries-filter: "Foo";
}
