# Enable Qt MOC/UIC/RCC
set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTOUIC OFF)
set(CMAKE_AUTORCC OFF)

# Export library
add_library(
  librepcb_library STATIC
  cat/cmd/cmdlibrarycategoryedit.cpp
  cat/cmd/cmdlibrarycategoryedit.h
  cat/componentcategory.cpp
  cat/componentcategory.h
  cat/librarycategory.cpp
  cat/librarycategory.h
  cat/packagecategory.cpp
  cat/packagecategory.h
  cmd/cmdlibrarybaseelementedit.cpp
  cmd/cmdlibrarybaseelementedit.h
  cmd/cmdlibraryedit.cpp
  cmd/cmdlibraryedit.h
  cmd/cmdlibraryelementedit.cpp
  cmd/cmdlibraryelementedit.h
  cmp/cmd/cmdcomponentedit.cpp
  cmp/cmd/cmdcomponentedit.h
  cmp/cmd/cmdcomponentpinsignalmapitemedit.cpp
  cmp/cmd/cmdcomponentpinsignalmapitemedit.h
  cmp/cmd/cmdcomponentsignaledit.cpp
  cmp/cmd/cmdcomponentsignaledit.h
  cmp/cmd/cmdcomponentsymbolvariantedit.cpp
  cmp/cmd/cmdcomponentsymbolvariantedit.h
  cmp/cmd/cmdcomponentsymbolvariantitemedit.cpp
  cmp/cmd/cmdcomponentsymbolvariantitemedit.h
  cmp/cmpsigpindisplaytype.cpp
  cmp/cmpsigpindisplaytype.h
  cmp/component.cpp
  cmp/component.h
  cmp/componentcheck.cpp
  cmp/componentcheck.h
  cmp/componentpinsignalmap.cpp
  cmp/componentpinsignalmap.h
  cmp/componentprefix.h
  cmp/componentsignal.cpp
  cmp/componentsignal.h
  cmp/componentsymbolvariant.cpp
  cmp/componentsymbolvariant.h
  cmp/componentsymbolvariantitem.cpp
  cmp/componentsymbolvariantitem.h
  cmp/componentsymbolvariantitemsuffix.h
  cmp/msg/msgduplicatesignalname.cpp
  cmp/msg/msgduplicatesignalname.h
  cmp/msg/msgmissingcomponentdefaultvalue.cpp
  cmp/msg/msgmissingcomponentdefaultvalue.h
  cmp/msg/msgmissingcomponentprefix.cpp
  cmp/msg/msgmissingcomponentprefix.h
  cmp/msg/msgmissingsymbolvariant.cpp
  cmp/msg/msgmissingsymbolvariant.h
  cmp/msg/msgmissingsymbolvariantitem.cpp
  cmp/msg/msgmissingsymbolvariantitem.h
  dev/cmd/cmddeviceedit.cpp
  dev/cmd/cmddeviceedit.h
  dev/cmd/cmddevicepadsignalmapitemedit.cpp
  dev/cmd/cmddevicepadsignalmapitemedit.h
  dev/device.cpp
  dev/device.h
  dev/devicecheck.cpp
  dev/devicecheck.h
  dev/devicepadsignalmap.cpp
  dev/devicepadsignalmap.h
  dev/msg/msgnopadsindeviceconnected.cpp
  dev/msg/msgnopadsindeviceconnected.h
  elements.h
  library.cpp
  library.h
  librarybaseelement.cpp
  librarybaseelement.h
  librarybaseelementcheck.cpp
  librarybaseelementcheck.h
  libraryelement.cpp
  libraryelement.h
  libraryelementcheck.cpp
  libraryelementcheck.h
  msg/libraryelementcheckmessage.cpp
  msg/libraryelementcheckmessage.h
  msg/msgmissingauthor.cpp
  msg/msgmissingauthor.h
  msg/msgmissingcategories.cpp
  msg/msgmissingcategories.h
  msg/msgnamenottitlecase.cpp
  msg/msgnamenottitlecase.h
  pkg/cmd/cmdfootprintedit.cpp
  pkg/cmd/cmdfootprintedit.h
  pkg/cmd/cmdfootprintpadedit.cpp
  pkg/cmd/cmdfootprintpadedit.h
  pkg/cmd/cmdpackagepadedit.cpp
  pkg/cmd/cmdpackagepadedit.h
  pkg/footprint.cpp
  pkg/footprint.h
  pkg/footprintgraphicsitem.cpp
  pkg/footprintgraphicsitem.h
  pkg/footprintpad.cpp
  pkg/footprintpad.h
  pkg/footprintpadgraphicsitem.cpp
  pkg/footprintpadgraphicsitem.h
  pkg/footprintpadpreviewgraphicsitem.cpp
  pkg/footprintpadpreviewgraphicsitem.h
  pkg/footprintpreviewgraphicsitem.cpp
  pkg/footprintpreviewgraphicsitem.h
  pkg/msg/msgduplicatepadname.cpp
  pkg/msg/msgduplicatepadname.h
  pkg/msg/msgmissingfootprint.cpp
  pkg/msg/msgmissingfootprint.h
  pkg/msg/msgmissingfootprintname.cpp
  pkg/msg/msgmissingfootprintname.h
  pkg/msg/msgmissingfootprintvalue.cpp
  pkg/msg/msgmissingfootprintvalue.h
  pkg/msg/msgpadclearanceviolation.cpp
  pkg/msg/msgpadclearanceviolation.h
  pkg/msg/msgpadoverlapswithplacement.cpp
  pkg/msg/msgpadoverlapswithplacement.h
  pkg/msg/msgwrongfootprinttextlayer.cpp
  pkg/msg/msgwrongfootprinttextlayer.h
  pkg/package.cpp
  pkg/package.h
  pkg/packagecheck.cpp
  pkg/packagecheck.h
  pkg/packagepad.cpp
  pkg/packagepad.h
  sym/cmd/cmdsymbolpinedit.cpp
  sym/cmd/cmdsymbolpinedit.h
  sym/msg/msgduplicatepinname.cpp
  sym/msg/msgduplicatepinname.h
  sym/msg/msgmissingsymbolname.cpp
  sym/msg/msgmissingsymbolname.h
  sym/msg/msgmissingsymbolvalue.cpp
  sym/msg/msgmissingsymbolvalue.h
  sym/msg/msgoverlappingsymbolpins.cpp
  sym/msg/msgoverlappingsymbolpins.h
  sym/msg/msgsymbolpinnotongrid.cpp
  sym/msg/msgsymbolpinnotongrid.h
  sym/msg/msgwrongsymboltextlayer.cpp
  sym/msg/msgwrongsymboltextlayer.h
  sym/symbol.cpp
  sym/symbol.h
  sym/symbolcheck.cpp
  sym/symbolcheck.h
  sym/symbolgraphicsitem.cpp
  sym/symbolgraphicsitem.h
  sym/symbolpin.cpp
  sym/symbolpin.h
  sym/symbolpingraphicsitem.cpp
  sym/symbolpingraphicsitem.h
  sym/symbolpinpreviewgraphicsitem.cpp
  sym/symbolpinpreviewgraphicsitem.h
  sym/symbolpreviewgraphicsitem.cpp
  sym/symbolpreviewgraphicsitem.h
)
target_include_directories(
  librepcb_library
  PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/../.."
)
target_link_libraries(
  librepcb_library
  PRIVATE common
)
target_link_libraries(
  librepcb_library
  PUBLIC # LibrePCB
         LibrePCB::Common
         # Third party
         TypeSafe::TypeSafe
         Optional::Optional
         # Qt
         Qt5::Widgets
         Qt5::PrintSupport
)

# Alias to namespaced variant
add_library(LibrePCB::Library ALIAS librepcb_library)
